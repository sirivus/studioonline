var m = require("..");

describe("strictMethod",function(){
    /*
    it("#easy",function(){
        var myF = m(String,function(){});
        myF("ddsfs");
    })

    it("#new",function(){
        var MyClass = m(String,function(name){
            this.name = name;
        },true);
        var obj = new MyClass();
    })
    */
    
    it("#convert",function(){
    
        function Args(args){
            return args
        }
    
        m.converter(Args,function(value){
            return new Args(value);
        })
        
        m.validater(Args,function(value,params){
            for(var k in params){
               var param = params[k];
               var v = value[k];
               param.validat(v);
            }
        })
        
        var tm = m(Args,{name:{type:String,validat:function(v){ if(v.length > 5){}else{throw new Error(); } }}},function(args){
            console.log(args.name);
        },true)
        
        tm({name:"ddd"})
        
    })
})