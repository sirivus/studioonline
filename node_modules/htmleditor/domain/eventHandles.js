var db = require("../dbs"),query = require("../query");

function wrap(repos, services) {

    handle1.eventName = "article changed";

    function handle1(id, data) {
        db.update("Article", id, data,function () {});
    }

    handle2.eventName = "Navigation changed" ;
    function handle2(id,data){
        console.log(data)
        console.log("+++++++++++++++++++++++++++++++++++++++++++++++++")
        db.update("Navigation", id,data, function () {});
        query.nav.reborn(data);
    }

    handle3.eventName = "*.*.create";
    function handle3(NAME,data){
        db.save(NAME,data,function(){})
    }

    handle4.eventName = "Article.*.remove";
    function handle4(NAME,id){
        db.remove(NAME,id,function(){});
    }
    return [handle1,handle2,handle3,handle4];

}

module.exports = wrap;

