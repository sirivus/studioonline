var dbs = require("../dbs");

function wrap(repos,services){

    var aricleDB = dbs.getDB("Article");
    var navDB = dbs.getDB("Navigation");

    isContain.serviceName = "isContain";

    // look type contain article ？　
    function isContain(nodeId,callback){
        articleDB.find({type:nodeId},function(err,rs){
            if(rs && rs.length > 0){
                callback(true);
            }else{
                callback(false);
            }
        })

    }

    typeExist.serviceName = "typeExist";
    // look type is exist?
    function typeExist(typeID,callback){
        repos.Navigation.get("id001",function(err,nav){
            var node = nav.getNode(typeID);
            if(node){
                callback(true);
            }else{
                callback(false);
            }
        })
    }

    return [typeExist,isContain]

}
module.exports = wrap;